Valheim Mod Name Matcher
=======================

功能说明
-------

这个工具用于将本地安装的Valheim Mods与Thunderstore上的Mod进行智能匹配。主要功能包括：

1. 数据获取与缓存
- 从Thunderstore API获取所有Valheim mod数据
- 实现24小时本地缓存机制，避免频繁请求
- 支持版本信息的获取和比对

2. 日志解析
- 解析BepInEx日志文件
- 提取已安装mod的名称和版本信息
- 处理各种格式的版本号

3. 智能匹配
- 多维度的mod名称匹配
- 版本号精确匹配
- 相似度评分系统

4. 结果分类
- 确定匹配（单一匹配或唯一版本匹配）
- 需要人工确认的多重匹配
- 未找到匹配的mod

核心算法实现
----------

1. 相似度计算 (_similarity_score)
- 基础字符串相似度计算（SequenceMatcher）
- 单词级别的匹配分析
- 额外单词惩罚机制（每个额外单词 -0.25）
- 完全匹配奖励机制（完全匹配 +0.3）
- 智能处理扩展名称（如 reborn, dvergr 等）

2. 匹配策略 (find_matches)
- 直接匹配：完全相同的字符串
- 使用原始mod名称进行相似度计算
- 相似度匹配：计算字符串相似度
- 版本匹配：比对版本号
- 过滤低于1.0分的匹配结果

3. 版本匹配 (_calculate_match_score)
- 完全版本匹配：+0.2分
- 部分版本匹配：根据匹配部分计算加分
- 版本号标准化处理
- 只对高分匹配（>=1.0）进行版本比对

4. 命名规则分析 (analyze_thunderstore_names)
- 大小写模式分析
- 分隔符使用统计
- 特殊字符检测
- 命名模式缓存

使用方法
-------

基本用法：
python valheim.py --log-file path/to/output_log.txt

输出说明：
1. 总体统计
- 总mod数量
- 已匹配数量
- 多重匹配数量
- 未匹配数量

2. 多重匹配结果
- 显示所有可能的匹配项
- 包含相似度分数
- 显示版本匹配信息

缓存文件
-------

1. thunderstore_cache.json
- 存储Thunderstore API数据
- 24小时更新周期

2. naming_patterns_cache.json
- 存储命名规则分析结果
- 提高后续匹配效率

3. mod_mapping_results.json
- 存储详细的匹配结果
- 包含统计信息和匹配详情

注意事项
-------

1. 版本号处理
- 移除非数字和点号字符
- 支持多段式版本号比较

2. 相似度计算
- 考虑mod名称的特殊性
- 平衡精确匹配和模糊匹配

3. 缓存机制
- 避免频繁API请求
- 提高程序运行效率 